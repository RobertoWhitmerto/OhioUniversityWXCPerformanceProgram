doctype html
html
  head
    title PPA - Remove a User
    // Materialize CSS imports [head]
    // Import Google Icon Font
    link(href='https://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet')
    // Import materialize.css
    link(type='text/css', rel='stylesheet', href='css/materialize.min.css', media='screen,projection')
    // Let browser know website is optimized for mobile
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js')
    script.
      $(document).ready(function(){
      $(".dropdown-button").dropdown();
      $(".button-collapse").sideNav();
      $(".tooltipped").tooltip({delay: 50});
      });
        
    script.
      $(document).ready(function(){
      if("#{message}")
      Materialize.toast('#{firstn}, #{message} ', 5000, 'rounded');
      });

  //Background pattern from Subtle Patterns//
  body(background='/views/bg3.png', onload='toaster();')
    include navi.pug
    br
    br
    br
    br
    br
    article
      .row
        .col.s12.m5.offset-m3
          .card.indigo.accent-4
            .card-content.cyan-text
              span.card-title
                center
                  p.fonts
                    font(color='white')
                      b Remove a User:
                      br
            .row
              .col.s12.m12
                .card.light-blue.darken-4
                  .card-content.black-text
                    font(color='black')
                      form(action='/admin_remove_user_form', method='post')
                        label
                          font(color='black') Username:
                        select#AllUser.browser-default(name='removeusername', required='', onchange='userinfo()')
                        br
                        br
                        label
                          font(color='black') Username:
                            br
                            b
                              p#UName
                        label
                          font(color='black') First Name:
                            br
                            b
                              p#FName
                        label
                          font(color='black') Last Name:
                            br
                            b
                              p#LName
                        label
                          font(color='black') Email:
                            br
                            b
                              p#Email
                        label
                          font(color='black') Role Level:
                            br
                            b
                              p#URole
                        br
                        br
                        | Note: 
                        br
                        | Please ensure you want to permanently remove this user, this process
                        font(color='red')
                          b  cannot
                        |  be reversed.
                        center
                          button.btn.waves-effect.waves-light.red(type='submit', name='action')
                            | Remove User
                            i.material-icons.right send
                br
                br

      //Change all of our primary colors that are THIS color to our new custom color//
      style.
        .card.indigo.accent-4 {
        background-color: #2f4f4f !important;
        }

      //Change all of our secondary colors that are THIS color to our new custom color//
      style.
        .card.light-blue.darken-4 {
        background-color: #b1f6cb !important;
        }

      // ---------------------------------------------------------------------------------
      // - User Dynamic Select JavaScript Function -
      script.
        //Put the variable passed over here and remove static example//
        var example = !{homegang};      //(!) UNCOMMENT (!) json object being passed to the pug file
        var Result = [];                //(!) UNCOMMENT (!) array that should be empty to store the json as an array

        //Lets convert our team json data to an array in JavaScript//
        for(var i in example)                   //(!) UNCOMMENT (!) For each entry in the json
          Result.push([example[i].username]);   //(!) UNCOMMENT (!) Push it to result as an array element

        //Lets display our teams in alphabetical order//
        Result.toString();  //Ensure that the data is type string
        Result.sort();      //sort the teams

        var users = document.getElementById("AllUser");

        var tmp = document.createElement("option");
        tmp.text = "----";
        tmp.value = "unknown";
        tmp.name = "removeusername";
        users.add(tmp);

        for(var i = 0; i < Result.length; i++){
        var opt2 = document.createElement("option");
        opt2.text = Result[i];  
        opt2.value = Result[i];
        opt2.name = "removeusername";
        users.add(opt2);
        }
      // - End of User Dynamic Select JavaScript Function -

      script.
        function userinfo(){
        var ex = !{homegang};
        var arr2 = [];
        var x = document.getElementById("AllUser").value;         

        for(var i in ex){
          if(ex[i].username == x){
          document.getElementById("UName").innerHTML=ex[i].username;
          document.getElementById("FName").innerHTML=ex[i].first;
          document.getElementById("LName").innerHTML=ex[i].last;
          document.getElementById("Email").innerHTML=ex[i].email;
          document.getElementById("URole").innerHTML=ex[i].role_name;
          break;
          }
        }
        }

      // Materialize CSS imports [body]
      // put this at the end of the body
      // Import jQuery before materialize.js
      script(type='text/javascript', src='https://code.jquery.com/jquery-2.1.1.min.js')
      script(type='text/javascript', src='js/materialize.min.js')

