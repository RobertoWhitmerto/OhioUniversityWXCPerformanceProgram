doctype html
html
  head
    title PPA - Link a Team
    // Materialize CSS imports [head]
    // Import Google Icon Font
    link(href='https://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet')
    // Import materialize.css
    link(type='text/css', rel='stylesheet', href='css/materialize.min.css', media='screen,projection')
    // Let browser know website is optimized for mobile
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js')
    script.
      $(document).ready(function(){
      $(".dropdown-button").dropdown();
      $(".button-collapse").sideNav();
      });






    // ---------------------------------------------------------------------------------
    // - Team Dynamic Select JavaScript Function -
    script.
      function LoadTeams(){
      //Put the variable passed over here and remove static example//
      var example = !{homeboize};     //(!) UNCOMMENT (!) json object being passed to the pug file
      var Result = [];    //(!) UNCOMMENT (!) array that should be empty to store the json as an array

      //Lets convert our team json data to an array in JavaScript//
      for(var i in example)             //(!) UNCOMMENT (!) For each entry in the json
        Result.push([example[i].team_name]);   //(!) UNCOMMENT (!) Push it to result as an array element

      //Lets display our teams in alphabetical order//
      Result.toString();  //Ensure that the data is type string
      Result.sort();      //sort the teams

      var teams = document.getElementById("AllTeams");

      for(var i = 0; i < Result.length; i++){
      var opt = document.createElement("option");
      opt.text = Result[i];
      teams.add(opt);
      }
      document.getElementById("TeamButton").disabled = true;
      }
    // - End of Team Dynamic Select JavaScript Function -




    // ---------------------------------------------------------------------------------
    // - User Dynamic Select JavaScript Function -
    script.
      function LoadUser(){
      //Put the variable passed over here and remove static example//
      var example = !{homegang};      //(!) UNCOMMENT (!) json object being passed to the pug file
      var Result = [];                //(!) UNCOMMENT (!) array that should be empty to store the json as an array

      //Lets convert our team json data to an array in JavaScript//
      for(var i in example)             //(!) UNCOMMENT (!) For each entry in the json
        Result.push([example[i].username]);   //(!) UNCOMMENT (!) Push it to result as an array element

      //Lets display our teams in alphabetical order//
      Result.toString();  //Ensure that the data is type string
      Result.sort();      //sort the teams

      var users = document.getElementById("AllUser");
      for(var i = 0; i < Result.length; i++){
      var opt2 = document.createElement("option");
      opt2.text = Result[i];
      users.add(opt2);
      }
      document.getElementById("UserButton").disabled = true;
      }
    // - End of User Dynamic Select JavaScript Function -

















  //Background pattern from Subtle Patterns//
  body(background='/views/bg3.png')
    include navi.pug
    br
    br
    br
    br
    br
    article
      .row
        .col.s12.m5.offset-m3
          .card.indigo.accent-4
            .card-content.white-text
              span.card-title
                center
                  p.fonts
                    font(color='white')
                      b Link a Team to a User
            .row
              .col.s12.m12
                .card.light-blue.darken-4
                  .card-content.black-text
                    font(color='black')
                      form(action='/admin_add_team_form', method='post')
                        // - User Dynamic Select -
                        p
                          b  Select User:
                        center
                          button#UserButton(type='button', onclick='LoadUser()') Refresh Users
                        br
                        br
                        select#AllUser.browser-default
                          option  ---- 
                        // ---------------------------------------------------------------------------------
                        br
                        br
                        // - Team Dynamic Select field -
                        p
                          b Team to add user to: 
                        center
                          button#TeamButton(type='button', onclick='LoadTeams()') Refresh Teams
                        
                        br
                        select#AllTeams.browser-default
                          option  ---- 
                        // ---------------------------------------------------------------------------------
                        br
                        br
                        br
                        center
                          button.btn.waves-effect.waves-light.green(type='submit', name='action')
                            | Link Team
                            i.material-icons.right send
                          br
                          br
      script.
        document.getElementById("TeamButton").disabled = false;
        document.getElementById("UserButton").disabled = false;
      //Change all of our primary colors that are THIS color to our new custom color//
      style.
        .card.indigo.accent-4 {
        background-color: #2f4f4f !important;
        }

      //Change all of our secondary colors that are THIS color to our new custom color//
      style.
        .card.light-blue.darken-4 {
        background-color: #b1f6cb !important;
        }
      // Materialize CSS imports [body]
      // put this at the end of the body
      // Import jQuery before materialize.js
      script(type='text/javascript', src='https://code.jquery.com/jquery-2.1.1.min.js')
      script(type='text/javascript', src='js/materialize.min.js')

